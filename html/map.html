<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SOMA Map</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚱️</text></svg>">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&family=Lato:wght@400;500&display=swap" rel="stylesheet">
  <link href="../asset/style.css" rel="stylesheet" />

  <script src="https://unpkg.com/svg-pan-zoom/dist/svg-pan-zoom.min.js"></script>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>

<style>
  #pageTitle{
    color:#e9b02b;
  }
  .leaflet-tooltip a { text-decoration: underline; }
</style>

<body class="inner-page">
  <!--Demo Message-->
  <div id="demo-container"></div>

  <!-- Corner "DEMO" ribbon -->
  <a class="corner-ribbon" href="#" aria-label="This website is a demo" title="This website is a demo">DEMO</a>
  
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg bg-light fixed-top" data-bs-theme="light">
    <div class="container">
      <a class="navbar-brand" href="../index.html">S O M A</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link active" href="map.html">Map</a></li>
          <li class="nav-item"><a class="nav-link" href="knowledge-graph.html">Knowledge Graph</a></li>
          <li class="nav-item"><a class="nav-link" href="somavoc.html">Vocabulary</a></li>
          <li class="nav-item"><a class="nav-link" href="chatbot.html">Chatbot</a></li>
          <li class="nav-item"><a class="nav-link" href="documentation.html">Documentation</a></li>
          <li class="nav-item"><a class="nav-link" href="tutorial.html">Tutorial</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="mt-3 ms-3">
    <button id="btnBack" class="btn btn-sm btn-outline-warning back-btn" title="Go back">Back</button>
  </div>

  <div class="container py-3 mb-5">
    <h1 id="pageTitle" class="text-center mb-4">Map</h1>
    
    <p>
      This interactive map displays the cemeteries that will be documented and described in the knowledge graph.
      For demonstration purposes, only one cemetery has been included as an example.
      By clicking on the pin, you can view the name of the cemetery and follow the link to its dedicated entity page,
      where further information is provided.
    </p>

    <div id="map"></div>
  </div>

  <!--FOOTER-->
  <div id="footer"></div>
  <script>
    fetch("../asset/footer.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("footer").innerHTML = data;
      });
  </script>


<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
crossorigin=""></script>
<script>

const lat = 37.9756842;
const lng = 23.72325;

// Init map
const map = L.map('map', { 
  center: [lat, lng],
  zoom: 16,
  scrollWheelZoom: true
});

// Base layer
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19,
  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

// Marker with click popup 
const marker = L.marker([lat, lng]).addTo(map);

const popupHtml = `<strong>Cemetery at the South Bank of the Eridanos</strong><br/>
<a href="knowledge-graph.html?cem=http%3A%2F%2Fexample.org%2Fsoma%2FcemeteryC3" rel="noopener noreferrer">Open knowledge graph</a>
`;
//https://soma-demo.github.io/knowledge-graph.html?cem=http%3A%2F%2Fexample.org%2Fsoma%2FcemeteryC3

marker.bindPopup(popupHtml);
</script>

<script>
  // Back button
  btnBack.onclick = () => history.back();
</script>

<!--Demo Message-->
  <script>
    fetch("../asset/demo.html")
      .then(response => response.text())
      .then(html => {
        document.getElementById("demo-container").innerHTML = html;
        if (!sessionStorage.getItem("hasVisitedSOMA")) {
          var demoModal = new bootstrap.Modal(document.getElementById('demoModal'));
          demoModal.show();
          sessionStorage.setItem("hasVisitedSOMA", "true");
        }
      })
  </script>
</body>
</html>